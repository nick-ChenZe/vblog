{"meta":{"title":"Hexo搭建轻量级博客","date":"2016-01-24T18:32:49.000Z","tags":["hexo","blog","NexT"],"categories":"笔记","id":"2345850484954485053","snapshot":"<h2>准备工作</h2>\n<p>环境： <code>Mac OS X</code></p>\n<p>你需要预先安装：<code>NodeJS</code> <code>Git</code></p>\n<p>Mac用户可以使用Homebrew安装git</p>\n <!--more-->\n<p>首先安装Homebrew</p>\n<blockquote>\n<p>“Homebrew installs the stuff you need that Apple didn’t.\n——Homebrew 使 OS X 更完整”。</p>\n</blockquote>\n<p>bash下：</p>\n<pre class=\"hljs\"><code>curl -LsSf http://github.com/mxcl/h</code></pre></!--more-->"},"content":"<h2>准备工作</h2>\n<p>环境： <code>Mac OS X</code></p>\n<p>你需要预先安装：<code>NodeJS</code> <code>Git</code></p>\n<p>Mac用户可以使用Homebrew安装git</p>\n <!--more-->\n<p>首先安装Homebrew</p>\n<blockquote>\n<p>“Homebrew installs the stuff you need that Apple didn’t.\n——Homebrew 使 OS X 更完整”。</p>\n</blockquote>\n<p>bash下：</p>\n<pre class=\"hljs\"><code>curl -LsSf http://github.com/mxcl/homebrew/tarball/master | sudo tar xvz -C/usr/<span class=\"hljs-built_in\">local</span> --strip 1\n</code></pre>\n<p>再用brew安装git</p>\n<pre class=\"hljs\"><code>brew install git\n</code></pre>\n<p>安装完成后</p>\n<pre class=\"hljs\"><code>\tbrew list\n</code></pre>\n<p>或</p>\n<pre class=\"hljs\"><code>\tgit --which\n</code></pre>\n<p>查看是否安装成功</p>\n<p>安装<a href=\"https://nodejs.org/en/\" title=\"node\">NodeJS</a></p>\n<blockquote>\n<p>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。</p>\n</blockquote>\n<p>下载完后</p>\n<pre class=\"hljs\"><code>node -v\n</code></pre>\n<p>查看是否已经安装成功</p>\n<p>安装npm</p>\n<pre class=\"hljs\"><code>node install npm -g\n</code></pre>\n<p>完成后</p>\n<pre class=\"hljs\"><code>npm -v\n</code></pre>\n<p>查看是否安装成功</p>\n<p>最后是我们的的主角 hexo</p>\n<blockquote>\n<p>Hexo 是一款基于node 的静态博客网站生成器</p>\n</blockquote>\n<p>作者的<a href=\"https://github.com/tommy351/hexo\">Github</a></p>\n<pre class=\"hljs\"><code>\tsudo npm install hexo-cli -g\n</code></pre>\n<h2>环境初始化</h2>\n<p>在任意磁盘下新建一个文件夹，为了方便命名为hexo</p>\n<pre class=\"hljs\"><code>\tmkdir hexo\n\thexo init\n</code></pre>\n<p>hexo init 完成后，hexo的项目文件就在文件夹下生成了。\n目录格式为</p>\n<pre class=\"hljs\"><code>.\n├── _config.yml\n├── package.json\n├── scaffolds\n├── <span class=\"hljs-built_in\">source</span>\n|   ├── _drafts\n|   └── _posts\n└── themes\n</code></pre>\n<p>现在你需要安装本地服务器端文件来运行查看，一切是否正常</p>\n<pre class=\"hljs\"><code>npm install hexo-server --save\n</code></pre>\n<p>完成后,启动服务在<a href=\"localhost:4000\">本地4000端口</a>查看是否成功</p>\n<pre class=\"hljs\"><code>hexo server\n</code></pre>\n<p>你可以尝试发布一篇新的博文看下效果</p>\n<pre class=\"hljs\"><code>hexo new title \n</code></pre>\n<p>重新启动服务器看是否生成了\n具体配置细节可以查看<a href=\"https://hexo.io/zh-cn/docs/setup.html\">官方</a>给出的具体的说明</p>\n<h2>连接Github Page</h2>\n<p>完成了上面这些，你还是直有一个能在本地访问的的博客而已，我们想要的效果是能将自己的文字与别人分享，所以我们需要一个githubpage。\n创建帐号后我们要新建一个<code>Repository</code>，name你的github用户名加后缀.github.io\n这样你就有自己个githubpage页面了，等待部署完毕后，nickname.github.io即你的网站已经可以访问了。但是怎么把hexo和其同步呢？\n如果这不是第一次使用git，那么需要确认SSH KEYS是否存在</p>\n<pre class=\"hljs\"><code><span class=\"hljs-built_in\">cd</span> ~/.ssh\n</code></pre>\n<p>如果存在将其备份后清楚</p>\n<pre class=\"hljs\"><code>mkdir key_backup\ncp id_rsa* key_backup\nrm id_rsa*\n\n</code></pre>\n<p>生成新的key</p>\n<pre class=\"hljs\"><code>ssh-keygen -t rsa -C <span class=\"hljs-string\">\"邮件地址@youremail.com\"</span>\n</code></pre>\n<p>确认回车后，会需要输入加密钥。照提示输入就好\n找到<code>id_rsa.pub</code>文件复制里面的key到github上，之后连接github</p>\n<pre class=\"hljs\"><code>ssh -T git@github.com\n</code></pre>\n<p>如果认证成功你会看到</p>\n<pre class=\"hljs\"><code>The authenticity of host <span class=\"hljs-string\">'github.com (207.97.227.239)'</span> can<span class=\"hljs-string\">'t be established.\nRSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.\nAre you sure you want to continue connecting (yes/no)?\n</span></code></pre>\n<p>说明你还没有配置帐号，输入<code>yes</code></p>\n<pre class=\"hljs\"><code>git config --global user.name <span class=\"hljs-string\">\"你的名字\"</span>\ngit config --global user.email <span class=\"hljs-string\">\"your_email@youremail.com\"</span>\n</code></pre>\n<p>可以参考官方声称ssh key的文档<a href=\"https://help.github.com/articles/generating-a-new-ssh-key/\">Generating a new SSH key\n</a></p>\n<p>记得将站点配置文件关联githubpage</p>\n<pre class=\"hljs\"><code><span class=\"hljs-comment\"># Deployment</span>\n<span class=\"hljs-comment\">## Docs: http://hexo.io/docs/deployment.html</span>\n<span class=\"hljs-attr\">deploy:</span>\n<span class=\"hljs-attr\">  type:</span> git\n<span class=\"hljs-attr\">  repository:</span> git@github.com:nick-ChenZe/nick-ChenZe.github.io.git\n<span class=\"hljs-attr\">  branch:</span> master\n</code></pre>\n<p>最新的hexo需要将<code>type</code>设置<em>git</em>而不是<em>github</em></p>\n<h2>站点参数配置</h2>\n<p>hexo一般会有两个配置文件，即<code>_config.yml</code>。我们一般称根目录下为站点配置文件，<code>theme</code>目录下的为主题配置文件，已为的站点为例，先介绍站点配置文件。</p>\n<pre class=\"hljs\"><code><span class=\"hljs-comment\">#Site</span>\n\ttitle: 爱西木的竖八不正\n\tsubtitle: 前端工程师，Javascript\n\tdescription: 明月装饰了你的窗，你装饰了别人的梦。\n\tauthor: Zeller\n\tlanguage: zh-Hans\n\ttimezone:\n\tduoshuo_shortname: chenze\n\tbaidu_analytics: ********\n</code></pre>\n<p><code>title</code>：即为站点名称，html中的title</p>\n<p><code>subtitle</code>：顾名思义，子标题</p>\n<p><code>description</code>： 描述，会出现在站点子标题下\n<code>author</code>：作者，一般会出现在页底\n<code>language</code>：语言，默认主题landscape支持英语，简体中文<code>zh-CN</code>和繁体<code>zh-TW</code>, 不同主题的关键词不同\n<code>timezone</code>：时区\n<code>duoshuo_shortname</code>: 注册多说账号时生成的short name，hexo还提供另一种留言版disqus，但是国内可能还是多说更方便，但是为人并不是很推荐多说，一试页面加载负担变重，另一方遍信息安全没有保障。\n<code>baidu_analytics</code>：百度分析，注册后可以对网站流量进行详细分析（下次再说）</p>\n<pre class=\"hljs\"><code><span class=\"hljs-attr\">social:</span>\n<span class=\"hljs-attr\">  GitHub:</span> https://github.com/nick-ChenZe\n  <span class=\"hljs-comment\"># twitter: https://twitter.com/your-user-name</span>\n  微博: http://weibo.com/<span class=\"hljs-number\">2064567411</span>\n  豆瓣: http://www.douban.com/people/<span class=\"hljs-number\">14814660</span>/\n  知乎: https://www.zhihu.com/people/chen-yi-feng<span class=\"hljs-bullet\">-65</span>\n  <span class=\"hljs-comment\"># 等等</span>\n</code></pre>\n<p>这里社交栏链接，如果这里命名时中文，在对应主题文件的<code>social icon</code>处也要设置成中文，这样才能正确输出字体图标</p>\n<pre class=\"hljs\"><code><span class=\"hljs-comment\"># Show number of visitors to each article.</span>\n<span class=\"hljs-comment\"># You can visit https://leancloud.cn get AppID and AppKey.</span>\n<span class=\"hljs-attr\">leancloud_visitors:</span>\n<span class=\"hljs-attr\">  enable:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">  app_id:</span> ************\n<span class=\"hljs-attr\">  app_key:</span> **************\n</code></pre>\n<p><a href=\"https://leancloud.cn/\">leancloud</a>为每篇博文提供阅读人数功能</p>\n<blockquote>\n<p>LeanCloud 是加速应用开发的一站式解决方案，专注于为应用开发者提供一流的工具、平台和服务。</p>\n</blockquote>\n<p>创建帐号后，进入应用页面，默认再存储板块，点击左侧栏数据边上的设置图标，创建<code>Class</code>讲其命名为<code>Counter</code>（<em>别的名字无效</em>）。完成后点击上方当行栏设置，应用创建的应用后，将自己的id和key复制到站点配置文件即可。你可以设置安全域名！</p>\n<h2>主题配置</h2>\n<p>我使用的是<a href=\"https://github.com/iissnan/hexo-theme-next\">NexT</a></p>\n"}