{"meta":{"title":"AngularJS入门笔记（一）","date":"2016-01-29T21:52:19.000Z","tags":["AngularJS"],"categories":"笔记","thumbnail":"http://7xt64w.com2.z0.glb.clouddn.com/owl-158414_1280.png","id":"6528950484954485148"},"content":"<p>这周末开始，到年假过完，准备把angular1.4+版本和beta2版本先爬个坑，至于为什么嘛？当然是为了找工作了。然后还要抽点时间学点图像处理的算法和webGL，天啦噜的，我觉得自己真是太Native居然认为这任务做的完？废话到这里了，开始吧！</p>\n <!--more-->\n<h2>环境配置</h2>\n<p>因为自己想从简单的坑一点点踩过来所有没有安装官方的依赖包，只装了简单的主文件</p>\n<pre class=\"hljs\"><code>npm install angular@1.4.9\n</code></pre>\n<p>如果喜欢搭建完整应用的话，可以安装json中的依赖来安装</p>\n<pre class=\"hljs\"><code>{\n  <span class=\"hljs-attr\">\"name\"</span>: <span class=\"hljs-string\">\"angularjs\"</span>,\n  <span class=\"hljs-attr\">\"license\"</span>: <span class=\"hljs-string\">\"MIT\"</span>,\n  <span class=\"hljs-attr\">\"branchVersion\"</span>: <span class=\"hljs-string\">\"^1.5.0-beta.2\"</span>,\n  <span class=\"hljs-attr\">\"branchPattern\"</span>: <span class=\"hljs-string\">\"1.5.*\"</span>,\n  <span class=\"hljs-attr\">\"distTag\"</span>: <span class=\"hljs-string\">\"beta\"</span>,\n  <span class=\"hljs-attr\">\"repository\"</span>: {\n    <span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-string\">\"git\"</span>,\n    <span class=\"hljs-attr\">\"url\"</span>: <span class=\"hljs-string\">\"https://github.com/angular/angular.js.git\"</span>\n  },\n  <span class=\"hljs-attr\">\"engines\"</span>: {\n    <span class=\"hljs-attr\">\"node\"</span>: <span class=\"hljs-string\">\"&lt;5\"</span>,\n    <span class=\"hljs-attr\">\"npm\"</span>: <span class=\"hljs-string\">\"~2.5\"</span>\n  },\n  <span class=\"hljs-attr\">\"engineStrict\"</span>: <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-attr\">\"scripts\"</span>: {\n    <span class=\"hljs-attr\">\"preinstall\"</span>: <span class=\"hljs-string\">\"node scripts/npm/check-node-modules.js --purge\"</span>,\n    <span class=\"hljs-attr\">\"postinstall\"</span>: <span class=\"hljs-string\">\"node scripts/npm/copy-npm-shrinkwrap.js\"</span>,\n    <span class=\"hljs-attr\">\"commit\"</span>: <span class=\"hljs-string\">\"git-cz\"</span>,\n    <span class=\"hljs-attr\">\"test-i18n\"</span>: <span class=\"hljs-string\">\"jasmine-node i18n/spec\"</span>\n  },\n  <span class=\"hljs-attr\">\"devDependencies\"</span>: {\n    <span class=\"hljs-attr\">\"angular-benchpress\"</span>: <span class=\"hljs-string\">\"0.x.x\"</span>,\n    <span class=\"hljs-attr\">\"benchmark\"</span>: <span class=\"hljs-string\">\"1.x.x\"</span>,\n    <span class=\"hljs-attr\">\"bower\"</span>: <span class=\"hljs-string\">\"~1.3.9\"</span>,\n    <span class=\"hljs-attr\">\"browserstacktunnel-wrapper\"</span>: <span class=\"hljs-string\">\"~1.3.1\"</span>,\n    <span class=\"hljs-attr\">\"canonical-path\"</span>: <span class=\"hljs-string\">\"0.0.2\"</span>,\n    <span class=\"hljs-attr\">\"cheerio\"</span>: <span class=\"hljs-string\">\"^0.17.0\"</span>,\n    <span class=\"hljs-attr\">\"commitizen\"</span>: <span class=\"hljs-string\">\"^2.3.0\"</span>,\n    <span class=\"hljs-attr\">\"cz-conventional-changelog\"</span>: <span class=\"hljs-string\">\"1.1.4\"</span>,\n    <span class=\"hljs-attr\">\"dgeni\"</span>: <span class=\"hljs-string\">\"^0.4.0\"</span>,\n    <span class=\"hljs-attr\">\"dgeni-packages\"</span>: <span class=\"hljs-string\">\"^0.11.0\"</span>,\n    <span class=\"hljs-attr\">\"event-stream\"</span>: <span class=\"hljs-string\">\"~3.1.0\"</span>,\n    <span class=\"hljs-attr\">\"glob\"</span>: <span class=\"hljs-string\">\"^6.0.1\"</span>,\n    <span class=\"hljs-attr\">\"grunt\"</span>: <span class=\"hljs-string\">\"~0.4.2\"</span>,\n    <span class=\"hljs-attr\">\"grunt-bump\"</span>: <span class=\"hljs-string\">\"~0.0.13\"</span>,\n    <span class=\"hljs-attr\">\"grunt-contrib-clean\"</span>: <span class=\"hljs-string\">\"~0.6.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-contrib-compress\"</span>: <span class=\"hljs-string\">\"~0.12.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-contrib-connect\"</span>: <span class=\"hljs-string\">\"~0.8.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-contrib-copy\"</span>: <span class=\"hljs-string\">\"~0.6.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-contrib-jshint\"</span>: <span class=\"hljs-string\">\"~0.10.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-ddescribe-iit\"</span>: <span class=\"hljs-string\">\"~0.0.1\"</span>,\n    <span class=\"hljs-attr\">\"grunt-jasmine-node\"</span>: <span class=\"hljs-string\">\"git://github.com/vojtajina/grunt-jasmine-node.git#fix-grunt-exit-code\"</span>,\n    <span class=\"hljs-attr\">\"grunt-jscs\"</span>: <span class=\"hljs-string\">\"^2.1.0\"</span>,\n    <span class=\"hljs-attr\">\"grunt-merge-conflict\"</span>: <span class=\"hljs-string\">\"~0.0.1\"</span>,\n    <span class=\"hljs-attr\">\"grunt-shell\"</span>: <span class=\"hljs-string\">\"~1.1.1\"</span>,\n    <span class=\"hljs-attr\">\"gulp\"</span>: <span class=\"hljs-string\">\"~3.8.0\"</span>,\n    <span class=\"hljs-attr\">\"gulp-concat\"</span>: <span class=\"hljs-string\">\"^2.4.1\"</span>,\n    <span class=\"hljs-attr\">\"gulp-foreach\"</span>: <span class=\"hljs-string\">\"0.0.1\"</span>,\n    <span class=\"hljs-attr\">\"gulp-jshint\"</span>: <span class=\"hljs-string\">\"~1.4.2\"</span>,\n    <span class=\"hljs-attr\">\"gulp-rename\"</span>: <span class=\"hljs-string\">\"^1.2.0\"</span>,\n    <span class=\"hljs-attr\">\"gulp-sourcemaps\"</span>: <span class=\"hljs-string\">\"^1.2.2\"</span>,\n    <span class=\"hljs-attr\">\"gulp-uglify\"</span>: <span class=\"hljs-string\">\"^1.0.1\"</span>,\n    <span class=\"hljs-attr\">\"gulp-util\"</span>: <span class=\"hljs-string\">\"^3.0.1\"</span>,\n    <span class=\"hljs-attr\">\"jasmine-node\"</span>: <span class=\"hljs-string\">\"^2.0.0\"</span>,\n    <span class=\"hljs-attr\">\"jasmine-reporters\"</span>: <span class=\"hljs-string\">\"~1.0.1\"</span>,\n    <span class=\"hljs-attr\">\"jshint-stylish\"</span>: <span class=\"hljs-string\">\"~1.0.0\"</span>,\n    <span class=\"hljs-attr\">\"karma\"</span>: <span class=\"hljs-string\">\"^0.13.19\"</span>,\n    <span class=\"hljs-attr\">\"karma-browserstack-launcher\"</span>: <span class=\"hljs-string\">\"^0.1.8\"</span>,\n    <span class=\"hljs-attr\">\"karma-chrome-launcher\"</span>: <span class=\"hljs-string\">\"^0.2.2\"</span>,\n    <span class=\"hljs-attr\">\"karma-firefox-launcher\"</span>: <span class=\"hljs-string\">\"^0.1.7\"</span>,\n    <span class=\"hljs-attr\">\"karma-jasmine\"</span>: <span class=\"hljs-string\">\"^0.1.6\"</span>,\n    <span class=\"hljs-attr\">\"karma-junit-reporter\"</span>: <span class=\"hljs-string\">\"^0.3.8\"</span>,\n    <span class=\"hljs-attr\">\"karma-ng-scenario\"</span>: <span class=\"hljs-string\">\"^0.1.0\"</span>,\n    <span class=\"hljs-attr\">\"karma-sauce-launcher\"</span>: <span class=\"hljs-string\">\"^0.3.0\"</span>,\n    <span class=\"hljs-attr\">\"karma-script-launcher\"</span>: <span class=\"hljs-string\">\"^0.1.0\"</span>,\n    <span class=\"hljs-attr\">\"load-grunt-tasks\"</span>: <span class=\"hljs-string\">\"~0.6.0\"</span>,\n    <span class=\"hljs-attr\">\"lodash\"</span>: <span class=\"hljs-string\">\"~2.4.1\"</span>,\n    <span class=\"hljs-attr\">\"marked\"</span>: <span class=\"hljs-string\">\"~0.3.0\"</span>,\n    <span class=\"hljs-attr\">\"node-html-encoder\"</span>: <span class=\"hljs-string\">\"0.0.2\"</span>,\n    <span class=\"hljs-attr\">\"promises-aplus-tests\"</span>: <span class=\"hljs-string\">\"~2.1.0\"</span>,\n    <span class=\"hljs-attr\">\"protractor\"</span>: <span class=\"hljs-string\">\"^2.1.0\"</span>,\n    <span class=\"hljs-attr\">\"q\"</span>: <span class=\"hljs-string\">\"~1.0.0\"</span>,\n    <span class=\"hljs-attr\">\"q-io\"</span>: <span class=\"hljs-string\">\"^1.10.9\"</span>,\n    <span class=\"hljs-attr\">\"qq\"</span>: <span class=\"hljs-string\">\"^0.3.5\"</span>,\n    <span class=\"hljs-attr\">\"rewire\"</span>: <span class=\"hljs-string\">\"~2.1.0\"</span>,\n    <span class=\"hljs-attr\">\"semver\"</span>: <span class=\"hljs-string\">\"~4.0.3\"</span>,\n    <span class=\"hljs-attr\">\"shelljs\"</span>: <span class=\"hljs-string\">\"~0.3.0\"</span>,\n    <span class=\"hljs-attr\">\"sorted-object\"</span>: <span class=\"hljs-string\">\"^1.0.0\"</span>,\n    <span class=\"hljs-attr\">\"stringmap\"</span>: <span class=\"hljs-string\">\"^0.2.2\"</span>\n  },\n  <span class=\"hljs-attr\">\"licenses\"</span>: [\n    {\n      <span class=\"hljs-attr\">\"type\"</span>: <span class=\"hljs-string\">\"MIT\"</span>,\n      <span class=\"hljs-attr\">\"url\"</span>: <span class=\"hljs-string\">\"https://github.com/angular/angular.js/blob/master/LICENSE\"</span>\n    }\n  ],\n  <span class=\"hljs-attr\">\"dependencies\"</span>: {},\n  <span class=\"hljs-attr\">\"config\"</span>: {\n    <span class=\"hljs-attr\">\"commitizen\"</span>: {\n      <span class=\"hljs-attr\">\"path\"</span>: <span class=\"hljs-string\">\"node_modules/cz-conventional-changelog\"</span>\n    }\n  }\n}\n</code></pre>\n<pre class=\"hljs\"><code>grunt package\n</code></pre>\n<p>好处是连单元测试也可以一并使用\nAngularJS1.4+版本中，一些注入是被分开来的，如果需要可以单独下载<a href=\"https://code.angularjs.org/1.5.0-rc.2/\">入口</a></p>\n<p>官方入门课程总共安排来11步，即step11。我发现我全部做完总共有6个目录，所以我就分6块做笔记吧。</p>\n<h2>Step1: 理解AngularJS</h2>\n<p>Angular是当下最为人称道的MVW（Model-View－Whatever）框架，听到耳朵都起茧的<code>双向数据绑定</code>。单向绑定即model层的数据表现到表现层，而双向数据绑定将在把view层产生的输入\n绑定的model层，即模版。Angular里的脏检测（$digest）来监视一些事件，在这些事件更新数据时，同时更新model层和view层。</p>\n<pre class=\"hljs\"><code><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">ng-app</span>=<span class=\"hljs-string\">\"app\"</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">ng-controller</span>=<span class=\"hljs-string\">\"firstController\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">ng-model</span>=<span class=\"hljs-string\">\"name\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"Enter a name here\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">ng-model</span>=<span class=\"hljs-string\">\"age\"</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">\"Enter a name here\"</span>&gt;</span>\n        {{name}}\n        {{age}}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text/javascript\"</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"../node_modules/angular/angular.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text/javascript\"</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"js/app.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>\n<pre class=\"hljs\"><code>angular.module(<span class=\"hljs-string\">\"app\"</span>,[]).\n  controller(<span class=\"hljs-string\">\"firstController\"</span>,[<span class=\"hljs-string\">\"$scope\"</span>, <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">$scope</span>) </span>{\n    $scope.name = <span class=\"hljs-number\">1</span>;\n    $scope.age = <span class=\"hljs-number\">2</span>;\n}]);\n</code></pre>\n<p>我们在<code>div</code>标签里添加了<code>ng-app</code>这个属性来告诉angular应该监视哪块区域，踩坑中发现1.4+版本希望 <code>ng-app</code>值不为空，不然webstorm会出告警。\n<code>angular.module(name, [requires], [configFn]);</code>\n<code>name</code>：模块名次\n<code>require</code>：模块依赖，字符串或数组\n<code>config</code>：模块配置</p>\n<p>因为angular是全局变量，在其它函数避免定义，造成污染</p>\n<p><code>module().controller</code>\nangular中的控制器，可以理解成帮助模块管理视图模版的工具。大部分一个控制器会对应一个代码片段。\n<code>module.controller(name, [[],function($di){}]);</code>\n<code>name</code>：控制器名字\n第二个参数是一个数组，函数前为控制器的依赖注入，常见的$http,$scope等类型都是字符串，函数参数要将这些依赖传入。\nAngular每个控制器对应一个$scope，$scope会继承父级$scope但是因为javascipt原型链调用远离，子$scope会覆盖父$scope的原有属性。</p>\n"}