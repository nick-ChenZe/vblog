{"meta":{"title":"mac启动apache及更改配置路径","date":"2016-04-16T21:32:44.000Z","tags":null,"categories":"笔记","thumbnail":"http://7xt64w.com2.z0.glb.clouddn.com/owl-158414_1280.png","id":"2445250484954514955","prev":{"title":"[译]那些你早就应该知道关于JavaScript作用域（scope）的事","id":"2010750484954514956"},"next":{"title":"css3中的滤镜","id":"3823650484954514954"}},"content":"<blockquote>\n<p>apache配置方法网上很多，也很简单，这里主要是针对2.3+版本更改根路径踩的坑做个记录</p>\n</blockquote>\n <!--more-->\n<p><a href=\"http://www.cnblogs.com/snandy/archive/2012/11/13/2765381.html\">参考链接</a></p>\n<p>Mac下apache是默认开启的，根路径是<code>/Library/WebServer/Documents/</code>，你也可以通过命令重启</p>\n<pre class=\"hljs\" lang=bash><code>sudo apachectl restart\n</code></pre>\n<p>启动虚拟主机配置，在<code>/etc/apache2/httpd.conf</code>将下面这行取消注释</p>\n<pre class=\"hljs\" lang=bash><code><span class=\"hljs-comment\">#Include /private/etc/apache2/extra/httpd-vhosts.conf</span>\n</code></pre>\n<p>接着配置虚拟主机<code>/etc/apache2/extra/httpd-vhosts.conf</code>，将原来两个虚拟主机注释掉，添加如下配置</p>\n<pre class=\"hljs\" lang=bash><code>&lt;VirtualHost *:80&gt;\n    DocumentRoot <span class=\"hljs-string\">\"/Library/WebServer/Documents\"</span>\n    ServerName localhost\n    ErrorLog <span class=\"hljs-string\">\"/private/var/log/apache2/localhost-error_log\"</span>\n    CustomLog <span class=\"hljs-string\">\"/private/var/log/apache2/localhost-access_log\"</span> common\n&lt;/VirtualHost&gt;\n \n&lt;VirtualHost *:80&gt;\n    DocumentRoot <span class=\"hljs-string\">\"/Users/snandy/work\"</span>\n    ServerName mysites\n    ErrorLog <span class=\"hljs-string\">\"/private/var/log/apache2/sites-error_log\"</span>\n    CustomLog <span class=\"hljs-string\">\"/private/var/log/apache2/sites-access_log\"</span> common\n<span class=\"hljs-comment\">#    &lt;Directory /&gt;</span>\n<span class=\"hljs-comment\">#                Options Indexes FollowSymLinks MultiViews</span>\n<span class=\"hljs-comment\">#                AllowOverride None</span>\n<span class=\"hljs-comment\">#                Order deny,allow</span>\n<span class=\"hljs-comment\">#                Allow from all</span>\n<span class=\"hljs-comment\">#     &lt;/Directory&gt;</span>\n     &lt;Directory /Users/chenze/Documents/host&gt;\n        AllowOverride All\n        Require all granted\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>注释掉部分是原来低版本apache配置，下面是2.3版本后的，在<code>Directory</code>标签内增加虚拟主机的路径。</p>\n<blockquote>\n<p>一定要保留日志记录，以查询故障！当时配置完，也是查看log发现不对，在stack上找到解决办法的。\n<code>ServerName</code>不建议像我这样设置成单词，最好还是短路径类似<code>mysites.com</code>，否则浏览器不明白应该是提交到搜索引擎还是直接解析。</p>\n</blockquote>\n<p>最后在<code>host</code>里添加DNS解析就可以了。</p>\n"}